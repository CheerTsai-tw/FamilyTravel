<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ±åŒ—ä¸ƒæ—¥éŠ (Tohoku Trip)</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* --- åŸºç¤è¨­å®š & æ—¥å¼æ¥µç°¡é…è‰² --- */
        :root {
            --bg-color: #F7F7F7;
            --card-bg: #FFFFFF;
            --text-main: #333333;
            --text-sub: #666666;
            --accent-color: #4A6C74; /* é’éˆè‰² */
            --highlight-food: #D98E73; /* ç…‰ç“¦è‰² */
            --highlight-shop: #8EACBB;
            --tag-transport: #E0E0E0;
            --flight-color: #2C3E50;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0; padding: 0; padding-bottom: 90px;
        }

        /* --- é ‚éƒ¨æ—¥æœŸå°èˆª --- */
        .day-scroller {
            background: rgba(255,255,255,0.98);
            padding: 12px 10px;
            overflow-x: auto;
            white-space: nowrap;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .day-chip {
            display: inline-block;
            padding: 6px 14px;
            margin-right: 6px;
            border-radius: 20px;
            background: #F0F0F0;
            color: #999;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.3s;
            cursor: pointer;
        }
        .day-chip.active {
            background: var(--accent-color);
            color: #FFF;
            box-shadow: 0 2px 6px rgba(74, 108, 116, 0.4);
        }

        /* --- å…§å®¹å®¹å™¨ --- */
        .container { padding: 16px; max-width: 600px; margin: 0 auto; }

        /* --- å¤©æ°£ Widget --- */
        .weather-widget {
            background: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #445;
            box-shadow: 0 2px 8px rgba(161, 196, 253, 0.3);
        }

        /* --- å¡ç‰‡æ¨£å¼ --- */
        .card {
            background: var(--card-bg);
            border-radius: 14px;
            padding: 18px;
            margin-bottom: 14px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
            border-left: 4px solid transparent;
            position: relative;
        }
        .card.sightseeing { border-left-color: var(--accent-color); }
        .card.food { border-left-color: var(--highlight-food); }
        .card.transport { border-left-color: var(--tag-transport); background: #FCFCFC; }
        .card.hotel { border-left-color: #9B59B6; }
        .card.flight { border-left-color: var(--flight-color); border: 1px solid #E8E8E8; }

        .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
        .card-time { font-size: 18px; font-weight: 700; color: var(--accent-color); font-family: 'Helvetica Neue', sans-serif; }
        .card-title { font-size: 17px; font-weight: 700; margin: 4px 0 8px 0; line-height: 1.4; }
        .card-meta { font-size: 13px; color: var(--text-sub); line-height: 1.6; }
        
        /* --- æ¨™ç±¤èˆ‡æŒ‰éˆ• --- */
        .tag { padding: 2px 6px; border-radius: 4px; font-size: 12px; font-weight: bold; color: white; display: inline-block; margin: 0 2px; }
        .tag.eat { background-color: var(--highlight-food); }
        .tag.buy { background-color: var(--highlight-shop); }
        .tag.alert { background-color: #E74C3C; }
        .tag.code { background-color: #2C3E50; color: #FFF; font-family: monospace; letter-spacing: 1px; padding: 2px 8px; }

        .nav-btn {
            display: inline-flex;
            align-items: center;
            background: #F0F4F5;
            color: var(--accent-color);
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 13px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 12px;
            margin-right: 8px;
            transition: background 0.2s;
            cursor: pointer;
            border: none;
        }
        .nav-btn:active { background: #E0E4E5; }
        .nav-btn i { margin-right: 6px; }

        .info-btn {
            background: #FFF3E0;
            color: #E67E22;
        }

        /* --- åº•éƒ¨å°èˆª --- */
        .bottom-nav {
            position: fixed;
            bottom: 0; left: 0; right: 0;
            background: #FFF;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            border-top: 1px solid #EEE;
            z-index: 200;
            padding-bottom: env(safe-area-inset-bottom);
        }
        .nav-item { text-align: center; color: #BBB; font-size: 10px; cursor: pointer; padding: 5px; width: 100%; }
        .nav-item.active { color: var(--accent-color); }
        .nav-item i { font-size: 20px; display: block; margin-bottom: 4px; }

        /* --- å·¥å…·é é¢ --- */
        .tools-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .tool-card { 
            background: #FFF; padding: 20px; border-radius: 12px; text-align: center; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.04); cursor: pointer;
        }
        .tool-card:active { transform: scale(0.98); }
        
        /* éš±è—/é¡¯ç¤ºæ§åˆ¶ */
        .view-section { display: none; animation: fadeIn 0.3s; }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* --- å½ˆçª—é€šç”¨æ¨£å¼ --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); z-index: 1000;
            display: none; align-items: center; justify-content: center;
            backdrop-filter: blur(2px);
        }
        .modal {
            background: white; width: 90%; max-width: 500px; max-height: 85vh;
            border-radius: 16px; padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow-y: auto;
            position: relative;
        }
        .modal-close {
            position: absolute; top: 15px; right: 15px;
            font-size: 20px; color: #999; cursor: pointer; padding: 5px;
        }
        .modal h3 { margin-top: 0; color: var(--accent-color); border-bottom: 2px solid #f0f0f0; padding-bottom: 10px; }
        .modal h4 { margin: 20px 0 10px 0; color: var(--highlight-food); font-size: 16px; border-left: 4px solid var(--highlight-food); padding-left: 8px; }
        .modal p, .modal li { font-size: 14px; line-height: 1.6; color: #555; }
        .modal ul { padding-left: 20px; margin: 5px 0; }
        
        /* åœ–ç‰‡æ¨£å¼æ›´æ–° */
        .modal img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 10px 0;
            border: 1px solid #EEE;
        }

        .step-num { display: inline-block; width: 20px; height: 20px; background: #333; color: white; border-radius: 50%; text-align: center; line-height: 20px; font-size: 12px; margin-right: 5px; }
    </style>
</head>
<body>

    <div id="day-nav" class="day-scroller"></div>

    <div class="container">
        
        <div id="view-itinerary" class="view-section active">
            <div class="weather-widget">
                <div>
                    <strong id="weather-loc" style="font-size:18px;">æ­£åœ¨è¼‰å…¥...</strong>
                    <div id="weather-desc" style="font-size:13px; opacity:0.8;">é å ±åŠŸèƒ½æº–å‚™ä¸­</div>
                </div>
                <i class="fas fa-cloud-sun" style="font-size:24px; opacity:0.6;"></i>
            </div>
            <div id="cards-container"></div>
        </div>

        <div id="view-tools" class="view-section">
            <h2 style="font-size:20px; margin: 10px 0 20px 0; color:var(--text-main);">æ—…ç¨‹ç™¾å¯¶ç®±</h2>
            <div class="tools-grid">
                <div class="tool-card" onclick="showModal('modal-flight')">
                    <i class="fas fa-plane" style="color:#2C3E50; font-size:28px; margin-bottom:10px;"></i>
                    <h3>èˆªç­è³‡è¨Š</h3>
                    <p style="font-size:12px; color:#999;">JX862 / JX863</p>
                </div>
                <div class="tool-card">
                    <i class="fas fa-bed" style="color:#9B59B6; font-size:28px; margin-bottom:10px;"></i>
                    <h3>ä½å®¿ç¸½è¦½</h3>
                    <p style="font-size:12px; color:#999;">é£¯åº—èˆ‡è¨‚å–®</p>
                </div>
                <div class="tool-card">
                    <i class="fas fa-wallet" style="color:#F39C12; font-size:28px; margin-bottom:10px;"></i>
                    <h3>å…¬è²»è¨˜å¸³</h3>
                    <p style="font-size:12px; color:#999;">å‰©é¤˜é ç®—</p>
                </div>
                <div class="tool-card" style="border: 1px solid #FFCDD2;">
                    <i class="fas fa-phone-alt" style="color:#E74C3C; font-size:28px; margin-bottom:10px;"></i>
                    <h3>ç·Šæ€¥è¯çµ¡</h3>
                    <p style="font-size:12px; color:#999;">ä¿éšª/å ±æ¡ˆ</p>
                </div>
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchView('itinerary')">
            <i class="fas fa-map-marked-alt"></i>
            <div>è¡Œç¨‹</div>
        </div>
        <div class="nav-item" onclick="switchView('tools')">
            <i class="fas fa-suitcase"></i>
            <div>å·¥å…·</div>
        </div>
    </div>

    <div id="modal-flight" class="modal-overlay" onclick="closeAllModals()">
        <div class="modal" onclick="event.stopPropagation()">
            <div class="modal-close" onclick="closeAllModals()">Ã—</div>
            <h3>âœˆï¸ èˆªç­è³‡è¨Š</h3>
            <div style="margin-bottom:15px;">
                <div style="font-weight:bold; color:var(--accent-color);">å»ç¨‹ | 12/06 (å…­)</div>
                <div style="font-size:14px; margin-top:5px;">
                    <strong>JX862 æ˜Ÿå®‡èˆªç©º</strong><br>
                    11:50 TPE æ¡ƒåœ’ T1 â” 16:00 SDJ ä»™å°
                </div>
            </div>
            <div>
                <div style="font-weight:bold; color:var(--accent-color);">å›ç¨‹ | 12/12 (äº”)</div>
                <div style="font-size:14px; margin-top:5px;">
                    <strong>JX863 æ˜Ÿå®‡èˆªç©º</strong><br>
                    17:15 SDJ ä»™å° â” 20:35 TPE æ¡ƒåœ’ T1
                </div>
            </div>
        </div>
    </div>

    <div id="modal-market" class="modal-overlay" onclick="closeAllModals()">
        <div class="modal" onclick="event.stopPropagation()">
            <div class="modal-close" onclick="closeAllModals()">Ã—</div>
            <h3>ğŸ£ é¹½é‡œå¸‚å ´æ”»ç•¥</h3>
            
            <h4>1. å¿…åƒï¼šä¸‰é™¸é¹½ç«ˆ Higashimono</h4>
            <p>9æœˆä¸­-12æœˆé™å®šçš„æ¥µå“å¤§ç›®é®ªã€‚<br>
            <small>âš ï¸ æŒ‘é¸æ™‚è«‹èªæ˜ä¸‹æ–¹ç…§ç‰‡ä¸­çš„è²¼ç´™ï¼š</small></p>
            <img src="image_9f42e6.jpg" alt="æ¥µå“é®ªé­š Higashimono">

            <h4>2. å¿…ç©ï¼šMY æµ·é®®ä¸¼ (DIY)</h4>
            <p>è‡ªå·±æŒ‘é­šè²¨ï¼Œå†å»è²·é£¯é…æˆä¸€ç¢—ï¼</p>
            <img src="image_9f4363.jpg" alt="DIY æµ·é®®ä¸¼æ­¥é©Ÿ">
            <p>æˆå“ç¯„ä¾‹èˆ‡æ°›åœï¼š</p>
            <img src="image_9f437f.jpg" alt="DIY æµ·é®®ä¸¼åˆç…§">

            <h4>3. å…¶ä»–é¸é …ï¼šBBQ ç‡’çƒ¤</h4>
            <p>åœ¨å¸‚å ´è²·æµ·é®®ï¼Œå» 5 è™Ÿè³£å ´å¤–çƒ¤ï¼</p>
            <img src="image_9f4328.jpg" alt="BBQ æ­¥é©Ÿ">
            <p>ç‡’çƒ¤å¯¦æ³ï¼š</p>
            <img src="image_9f4344.jpg" alt="BBQ é£Ÿç‰©">
            
            <p style="margin-top:20px; border-top:1px dashed #ddd; padding-top:15px; font-size:13px; color:#777;">
                <strong>ç‡Ÿæ¥­æ™‚é–“ï¼š</strong><br>
                å¹³æ—¥: 3:00 - 13:00<br>
                é€±å…­: 3:00 - 14:00<br>
                é€±æ—¥/å‡æ—¥: 6:00 - 14:00<br>
                <small>(åº—å®¶ç‡Ÿæ¥­æ™‚é–“ä¸ä¸€ï¼Œå»ºè­°ä¸­åˆå‰æŠµé”)</small>
            </p>
        </div>
    </div>

    <script>
        // --- æ ¸å¿ƒè³‡æ–™å€ ---
        const itineraryData = {
            "day1": { 
                date: "12/06 (å…­)", loc: "ä»™å°å¸‚", temp: "3Â°C - 8Â°C",
                events: [
                    { time: "09:30", title: "æŠµé”æ¡ƒåœ’æ©Ÿå ´ T1", type: "transport", note: "å»ºè­°ææ—© 2.5 å°æ™‚å ±åˆ°ã€‚æ˜Ÿå®‡èˆªç©ºä½æ–¼ç¬¬ä¸€èˆªå»ˆã€‚", nav: "æ¡ƒåœ’æ©Ÿå ´ç¬¬ä¸€èˆªå»ˆ" },
                    { time: "11:50", title: "JX862 èµ·é£› ğŸ›«", type: "flight", note: "æ©Ÿå‹ï¼šA330-900NEO (3h 10m)", nav: "" },
                    { time: "16:00", title: "æŠµé”ä»™å°æ©Ÿå ´", type: "transport", note: "å…¥å¢ƒç´„éœ€ 40-60 åˆ†é˜ã€‚é ˜å®Œè¡Œæå‰å¾€ 2F æ­ä¹˜é›»è»Šã€‚", nav: "ä»™å°ç©ºæ¸¯é§…" },
                    { time: "17:08", title: "æ­ä¹˜ä»™å°ç©ºæ¸¯ç·š", type: "transport", note: "17:08 ç™¼ â†’ 17:33 è‘— (ä»™å°ç«™)<br>å‚™ç”¨ï¼š17:39 ç™¼", nav: "" },
                    { time: "18:00", title: "é£¯åº— Check-in", type: "hotel", note: "<b>Hotel Livemax Sendai Hirose-dori</b><br>ä»£è™Ÿï¼š<span class='tag code'>1628181511</span><br>é›»è©±ï¼š022-263-6400", nav: "ãƒ›ãƒ†ãƒ«ãƒªãƒ–ãƒãƒƒã‚¯ã‚¹ä»™å°åºƒç€¬é€š" },
                    { time: "19:00", title: "æ™šé¤æ¨è–¦ï¼šä»™å°ç‰›èˆŒ", type: "food", note: "æ¨è–¦ï¼š<span class='tag eat'>å‘³å¤ªåŠ©</span> æˆ– <span class='tag eat'>ç‰›èˆŒé–£</span>", nav: "å‘³å¤ªåŠ© æœ¬åº—" }
                ]
            },
            "day2": { 
                date: "12/07 (æ—¥)", loc: "æ¾å³¶ç£", temp: "2Â°C - 7Â°C",
                events: [
                    { 
                        time: "09:00", title: "å‰å¾€ç§Ÿè»Šè™•", type: "transport", 
                        note: "é£¯åº—å‡ºç™¼æ­¥è¡Œç´„ 10-15 åˆ†é˜ã€‚<br>ç›®æ¨™ï¼šORIX ä»™å°ç«™å‰åº— (è¥¿å£)ã€‚", 
                        nav: "ã‚ªãƒªãƒƒã‚¯ã‚¹ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼ ä»™å°é§…å‰åº—" 
                    },
                    { 
                        time: "10:00", title: "è¾¦ç†ç§Ÿè»Š & å•Ÿç¨‹", type: "transport", 
                        note: "<b>âš ï¸ å¿…å‚™ï¼šè­·ç…§ã€å°ç£é§•ç…§ã€æ—¥æ–‡è­¯æœ¬</b><br>ç›®çš„åœ°ï¼šé¹½é‡œæ°´ç”¢å¸‚å ´ (è»Šç¨‹ç´„40åˆ†)ã€‚", 
                        nav: "å¡©é‡œæ°´ç”£ç‰©ä»²å¸å¸‚å ´" 
                    },
                    { 
                        time: "10:50", title: "é¹½é‡œæ°´ç”¢ä»²å¸å¸‚å ´", type: "food", 
                        note: "<b><span class='tag eat'>åˆé¤</span> DIY æµ·é®®ä¸¼ & ç‡’çƒ¤</b><br>å¿…åƒï¼šæ¥µå“å¤§ç›®é®ª (Higashimono)<br>è«‹é»ä¸‹æ–¹æŒ‰éˆ•çœ‹æ”»ç•¥ã€‚", 
                        nav: "",
                        action: "modal-market", actionText: "ğŸ“– å¸‚å ´æ”»ç•¥ & é®ªé­šä»‹ç´¹"
                    },
                    { 
                        time: "13:30", title: "å‰å¾€æ¾å³¶", type: "transport", 
                        note: "è»Šç¨‹ç´„ 20 åˆ†é˜ã€‚å‰å¾€æ¾å³¶æµ·å²¸ã€‚", 
                        nav: "æ¾å³¶æµ·å²¸" 
                    },
                    { 
                        time: "14:00", title: "æ¾å³¶å³¶å·¡è§€å…‰èˆ¹", type: "sightseeing", 
                        note: "ä»ç‹ä¸¸è¡Œç¨‹ (ç´„ 50 åˆ†é˜)<br>é£½è¦½æ¾å³¶ç£ç¾æ™¯ã€‚", 
                        nav: "æ¾å³¶éŠè¦§èˆ¹" 
                    },
                    { 
                        time: "15:00", title: "äº”å¤§å ‚ & ç‘åš´å¯º", type: "sightseeing", 
                        note: "æ¾å³¶çš„è±¡å¾µï¼Œé€£çµå°å³¶çš„ç´…æ©‹ã€‚", 
                        nav: "äº”å¤§å ‚" 
                    },
                    { 
                        time: "16:00", title: "é£¯åº— Check-in", type: "hotel", 
                        note: "<b>å°æ¾é¤¨å¥½é¢¨äº­</b><br>ä»£è™Ÿï¼š<span class='tag code'>110 443 142*10</span><br>é›»è©±ï¼š022-354-5065", 
                        nav: "å°æ¾é¤¨ å¥½é¢¨äº­" 
                    },
                    { 
                        time: "17:00", title: "æ¾å³¶é›¢å®® / æ™šé¤", type: "sightseeing", 
                        note: "å¤œé–“é»ç‡ˆæˆ–å‘¨é‚Šæ™šé¤ã€‚", 
                        nav: "å®®åŸçœŒæ¾å³¶é›¢å®®" 
                    }
                ] 
            },
            "day3": { date: "12/08 (ä¸€)", loc: "éŠ€å±±æº«æ³‰", temp: "-1Â°C - 4Â°C", events: [] },
            "day4": { date: "12/09 (äºŒ)", loc: "è—ç‹æº«æ³‰", temp: "-3Â°C - 2Â°C", events: [] },
            "day5": { date: "12/10 (ä¸‰)", loc: "ç±³æ¾¤", temp: "0Â°C - 5Â°C", events: [] },
            "day6": { date: "12/11 (å››)", loc: "ç‹ç‹¸æ‘/ä»™å°", temp: "2Â°C - 7Â°C", events: [] },
            "day7": { 
                date: "12/12 (äº”)", loc: "å›ç¨‹", temp: "4Â°C - 9Â°C", 
                events: [
                    { time: "15:15", title: "æŠµé”ä»™å°æ©Ÿå ´", type: "transport", note: "ææ—© 2 å°æ™‚æŠµé”ã€‚æœ€å¾Œæ¡è²·ä¼´æ‰‹ç¦®ã€‚", nav: "ä»™å°ç©ºæ¸¯" },
                    { time: "17:15", title: "JX863 èµ·é£› ğŸ›«", type: "flight", note: "A330-900NEO (4h 20m) â” TPE", nav: "" }
                ] 
            }
        };

        // --- ç¨‹å¼é‚è¼¯å€ ---
        let currentDay = "day1";

        function init() {
            renderDayNav();
            renderCards(currentDay);
        }

        function renderDayNav() {
            const nav = document.getElementById('day-nav');
            nav.innerHTML = '';
            Object.keys(itineraryData).forEach((key, index) => {
                const day = itineraryData[key];
                const chip = document.createElement('span');
                chip.className = `day-chip ${key === currentDay ? 'active' : ''}`;
                chip.innerHTML = `Day ${index+1} <small>${day.date.split(' ')[0]}</small>`;
                chip.onclick = () => {
                    currentDay = key;
                    updateActiveDay();
                    renderCards(key);
                };
                nav.appendChild(chip);
            });
        }

        function updateActiveDay() {
            document.querySelectorAll('.day-chip').forEach(el => {
                el.classList.remove('active');
                if(el.textContent.includes(itineraryData[currentDay].date.split(' ')[0])) el.classList.add('active');
            });
        }

        function renderCards(dayKey) {
            const container = document.getElementById('cards-container');
            const dayInfo = itineraryData[dayKey];
            
            document.getElementById('weather-loc').innerText = dayInfo.loc;
            document.getElementById('weather-desc').innerText = `æ°£æº«é æ¸¬: ${dayInfo.temp}`;
            container.innerHTML = '';

            if(!dayInfo.events || dayInfo.events.length === 0) {
                container.innerHTML = '<div style="text-align:center; padding:40px; color:#AAA;"><i class="fas fa-edit"></i><br><br>è¡Œç¨‹æ•´ç†ä¸­...</div>';
                return;
            }

            dayInfo.events.forEach(event => {
                const card = document.createElement('div');
                card.className = `card ${event.type}`;
                
                let btnsHtml = '';
                
                // å°èˆªæŒ‰éˆ•
                if (event.nav) {
                    const mapLink = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(event.nav)}`;
                    btnsHtml += `
                        <button onclick="window.open('${mapLink}', '_blank')" class="nav-btn">
                            <i class="fas fa-location-arrow"></i> å°èˆª
                        </button>`;
                }

                // ç‰¹æ®Šå‹•ä½œæŒ‰éˆ• (å¦‚æ”»ç•¥)
                if (event.action) {
                    btnsHtml += `
                        <button onclick="showModal('${event.action}')" class="nav-btn info-btn">
                            ${event.actionText}
                        </button>`;
                }
                
                card.innerHTML = `
                    <div class="card-header">
                        <div class="card-time">${event.time}</div>
                        ${getIcon(event.type)}
                    </div>
                    <div class="card-title">${event.title}</div>
                    <div class="card-meta">${event.note}</div>
                    <div style="margin-top:5px;">${btnsHtml}</div>
                `;
                container.appendChild(card);
            });
        }

        function getIcon(type) {
            if(type === 'flight') return '<i class="fas fa-plane" style="color:#2C3E50"></i>';
            if(type === 'hotel') return '<i class="fas fa-bed" style="color:#9B59B6"></i>';
            if(type === 'food') return '<i class="fas fa-utensils" style="color:#D98E73"></i>';
            if(type === 'sightseeing') return '<i class="fas fa-camera" style="color:#4A6C74"></i>';
            return '<i class="fas fa-car" style="color:#AAA"></i>';
        }

        function switchView(viewName) {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById(`view-${viewName}`).classList.add('active');
            
            if(viewName === 'itinerary') {
                document.querySelector('.bottom-nav .nav-item:nth-child(1)').classList.add('active');
                document.getElementById('day-nav').style.display = 'block';
            } else {
                document.querySelector('.bottom-nav .nav-item:nth-child(2)').classList.add('active');
                document.getElementById('day-nav').style.display = 'none';
            }
        }

        function showModal(id) {
            document.getElementById(id).style.display = 'flex';
        }

        function closeAllModals() {
            document.querySelectorAll('.modal-overlay').forEach(el => el.style.display = 'none');
        }

        init();
    </script>
</body>
</html>